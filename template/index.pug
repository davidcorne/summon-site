extends layout.pug

block scripts
    script(src="/public/resources/index.js")

block content
  h1 Summon Site

  div.table-filters
    select(onchange="SummonSite.filterTable()")#spellSelector
      option All Spells
      each spell in spellData
        option #{spell.spell}
    select(onchange="SummonSite.filterTable()")#levelSelector
      option All Levels
      option 1
      option 2
      option 3
      option 4
      option 5
      option 6
      option 7
      option 8
      option 9
      option 10
    input(type="checkbox")#upToLevelCheck
    label Show all creatures up to this level
  table#monsterTable
    tr
      th Spell Level
      th Monster
      th Family
      th Level
      th Alignment
      th Type
      th Size
    each monster in monsters
      //- e.g. an Adule Cloud Dragon
        {
          "name":"Adult Cloud Dragon",
          "url":"https://2e.aonprd.com/Monsters.aspx?ID=625",
          "family":"Dragon, Cloud",
          "level":14,
          "alignment":"Neutral",
          "creatureType":"Dragon, Elemental",
          "size":"Huge",
          "summonSpells":[
            {"spell":"Summon Dragon","level":10},
            {"spell":"Summon Elemental","level":10}
          ]
        }
      tr 
        //- All spell levels should be the same, use the first one.
        td.spellLevel #{monster.summonSpells[0].level}
        td 
          a(href=monster.url, target="_blank") #{monster.name}
        td #{monster.family}
        td #{monster.level}
        td #{monster.alignment}
        td #{monster.creatureType}
        td #{monster.size}
        each spell in monster.summonSpells
          td.dataColumn #{spell.spell}
